#!/bin/bash

# Clear the terminal window
clear

# Output ASCII art header
function header {
	echo "___  ___          _ _     _ _         "
	echo "|  \/  |         | | |   (_) |        "
	echo "| .  . | __ _  __| | |    _| |__  ___ "
	echo "| |\/| |/ _\` |/ _\` | |   | | '_ \/ __|"
	echo "| |  | | (_| | (_| | |___| | |_) \__ \\"
	echo "\_|  |_/\__,_|\__,_\_____/_|_.__/|___/"
	echo "                                      "
}

header

pattern="\[Adjective]|\[Noun]|\[Adverb]|\[Exclamation]|\[Proper_Noun]"

count=0
while read line; do
	output=()

	for l in $line; do
		# Check if word contains the desired regex pattern
		if [[ $l =~ $pattern ]]
			then
				count=$[$count + 1]
				eval lib=\${$count}
		fi

		output+=$(printf "%s " $l | sed -E 's/'$pattern'/'$lib'/')
	done

	echo $output
done < "./stories/test.txt"